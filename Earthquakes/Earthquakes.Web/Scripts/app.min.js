function show(n){require(["dojo/_base/array","dojo/_base/xhr","esri/symbols/SimpleFillSymbol","esri/symbols/SimpleLineSymbol","esri/symbols/TextSymbol","esri/symbols/Font","esri/config"],function(t,i,r,u,f,e){var v=new u,c=new e,o,s,l,a,h;c.setSize("10pt"),c.setWeight(e.WEIGHT_BOLD),isoseimals.clear(),distance.clear(),o=t.filter(quakes.graphics,function(t){return t.attributes.publicid==n}),myGeometry!=null&&(s=new esri.geometry.Polyline(new esri.SpatialReference({wkid:4326})),s.addPath([myGeometry,o[0].geometry]),l=new esri.Graphic(esri.geometry.geodesicDensify(s,1e4),v),distance.add(l),a=esri.geometry.geodesicLengths([s],esri.Units.KILOMETERS),h=new f(parseFloat(a).toFixed(2)+"km from your current location"),h.setOffset(130,-6),h.setFont(c),distance.add(new esri.Graphic(o[0].geometry,h))),map.centerAt(o[0].geometry),i.get({url:"/eq?id="+n+"&X="+o[0].geometry.x+"&Y="+o[0].geometry.y+"&Depth="+o[0].attributes.depth+"&Magnitude="+o[0].attributes.magnitude,handleAs:"json",headers:{"Content-Type":"application/json"},load:function(n){var i=new r;i.setOutline(new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new dojo.Color([100,100,255,.6]),2)),i.setColor(new dojo.Color([0,0,0,0])),t.forEach(n,function(n){var t=new esri.Graphic(n),r=esri.geometry.geodesicAreas([t.geometry],esri.Units.KILOMETERS);r>0&&(t.setSymbol(i),isoseimals.add(t))})}})})}var map,quakes,isoseimals,distance,myGeometry;require(["esri/map","esri/symbols/SimpleMarkerSymbol","esri/symbols/SimpleLineSymbol","esri/renderers/ClassBreaksRenderer","esri/dijit/Scalebar","dojo/_base/json","dojo/_base/array","dojo/domReady!","esri/geometry"],function(n,t,i,r,u,f){function h(n){var i=new t;i.setPath("M16,3.5c-4.142,0-7.5,3.358-7.5,7.5c0,4.143,7.5,18.121,7.5,18.121S23.5,15.143,23.5,11C23.5,6.858,20.143,3.5,16,3.5z M16,14.584c-1.979,0-3.584-1.604-3.584-3.584S14.021,7.416,16,7.416S19.584,9.021,19.584,11S17.979,14.584,16,14.584z"),i.setColor(new f.Color([0,0,0,1])),i.setOutline(null),i.setOffset(0,12),myGeometry=new esri.geometry.Point(n.coords.longitude,n.coords.latitude),o.add(new esri.Graphic(myGeometry,i))}var o,s,e;map=new n("map",{basemap:"gray",center:[174,-41],zoom:6,showAttribution:!0}),isoseimals=new esri.layers.GraphicsLayer,map.addLayer(isoseimals),quakes=new esri.layers.GraphicsLayer,map.addLayer(quakes),o=new esri.layers.GraphicsLayer,map.addLayer(o),distance=new esri.layers.GraphicsLayer,map.addLayer(distance),s=new t(t.STYLE_CIRCLE,30,new i(i.STYLE_SOLID,new f.Color([255,0,0,1]),7),new f.Color([255,0,0,.7])),e=new r(s,"magnitude"),e.addBreak(0,1.99,new t(t.STYLE_CIRCLE,10,new i(i.STYLE_SOLID,new f.Color([192,255,192,1]),2),new f.Color([192,255,192,.7]))),e.addBreak(2,2.99,new t(t.STYLE_CIRCLE,14,new i(i.STYLE_SOLID,new f.Color([76,255,76,1]),2),new f.Color([76,255,76,.7]))),e.addBreak(3,3.99,new t(t.STYLE_CIRCLE,16,new i(i.STYLE_SOLID,new f.Color([255,255,70,1]),3),new f.Color([255,255,70,.7]))),e.addBreak(4,5.29,new t(t.STYLE_CIRCLE,20,new i(i.STYLE_SOLID,new f.Color([255,140,20,1]),4),new f.Color([255,140,20,.7]))),e.addBreak(5.3,6.99,new t(t.STYLE_CIRCLE,24,new i(i.STYLE_SOLID,new f.Color([255,55,15,1]),5),new f.Color([255,55,15,.7]))),e.addBreak(7,8.99,new t(t.STYLE_CIRCLE,28,new i(i.STYLE_SOLID,new f.Color([255,0,0,1]),6),new f.Color([255,0,0,.7]))),quakes.setRenderer(e);map.on("load",function(){var t,n;for(map.resize(),t=new u({map:map,scalebarUnit:"metric"}),n=0;n<data.length;n++)quakes.add(new esri.Graphic(data[n]));navigator.geolocation&&navigator.geolocation.getCurrentPosition(h)})});
//@ sourceMappingURL=app.min.js.map